@startuml
title Enroll Flow (simplified)
participant CLI
participant Service
participant CoursesTable
participant StudentsTable
participant EnrollmentsTable
CLI -> Service: enroll(studentId, courseId)
Service -> CoursesTable: Get course
alt seats available
  Service -> CoursesTable: Conditional Update currentEnrolledCount+=1 (Condition: currentEnrolledCount < maxSeats)
  Service -> EnrollmentsTable: Put Enrollment item
  Service -> StudentsTable: Update activeEnrollments +=1
  Service -> CLI: success
else full
  Service -> WaitlistsTable: Join waitlist (increment waitlistSeq)
  Service -> CLI: added to waitlist
end
@enduml
